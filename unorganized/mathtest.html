<!DOCTYPE html>
<html>
<head>
    <title>Modular Math Dependency Graph</title>
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style type="text/css">
        #network {
            width: 100vw;
            height: 100vh;
            border: 1px solid lightgray;
        }
    </style>
</head>
<body>

<div id="network"></div>

<script type="text/javascript" src="algebra.js"></script>
<script type="text/javascript" src="analysis.js"></script>
<script type="text/javascript" src="topology-geometry.js"></script>

<script type="text/javascript" src="graphData.js"></script>

<script type="text/javascript">
    // This script uses the 'graphData' variable defined in graphData.js

    var container = document.getElementById('network');

    // The vis.js options for a hierarchical layout
    var options = {
        layout: {
            hierarchical: {
                enabled: true,
                levelSeparation: 150, 
                // *** 1. CHANGE MADE HERE: Increased horizontal spacing to 300 ***
                nodeSpacing: 300, 
                // ***************************************************************
                treeSpacing: 200,
                direction: 'UD', // Up to Down
                sortMethod: 'directed',
                shakeTowards: 'roots'
            }
        },
        nodes: {
            shape: 'box',
            font: {
                size: 14,
                color: '#343434'
            },
            margin: 10,
            color: {
                border: '#2B7CE9',
                highlight: {
                    border: '#2B7CE9'
                }
            }
        },
        edges: {
            arrows: 'to',
            color: {
                color: '#848484',
                highlight: '#848484',
                hover: '#848484'
            },
            smooth: {
                enabled: true,
                type: "continuous"
            }
        },
        physics: {
            enabled: false // Disable dynamic physics to rely purely on hierarchical layout
        },
        // Enable drag/zoom/fit
        interaction: {
            navigationButtons: true,
            keyboard: true
        }
    };

    // Initialize your network
    var network = new vis.Network(container, graphData, options);
</script>

</body>
</html>