<!DOCTYPE html>
<html>
<head>
  <title>Hierarchy of Functional Analysis Spaces (Structural Dependencies Refined)</title>
  <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
  <style type="text/css">
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100vh;
      border: none;
      box-sizing: border-box;
    }
    
    #mynetwork {
      width: 100vw;
      height: 100vh;
      border: none;
      box-sizing: border-box;
    }
  </style>
</head>
<body>

<div id="mynetwork"></div>

<script type="text/javascript">
  // --- NODE DEFINITIONS ---
  // LEVELS 4 and 5 have been adjusted to reflect co-equal dependency paths for Vector Space.
  var nodesArray = [
    // LEVEL 0
    {id: 0, label: 'Set (V)', level: 0, color: {background: '#97C2FC'}},

    // LEVEL 1: Axioms (Consolidated)
    {id: 1, label: 'Add. Closure (A1)', level: 1, color: {background: '#ADD8E6'}},
    {id: 2, label: 'Add. Commutativity (A2)', level: 1, color: {background: '#ADD8E6'}},
    {id: 3, label: 'Add. Associativity (A3)', level: 1, color: {background: '#ADD8E6'}},
    {id: 4, label: 'Add. Identity (A4)', level: 1, color: {background: '#ADD8E6'}},
    {id: 5, label: 'Add. Inverse (A5)', level: 1, color: {background: '#ADD8E6'}},
    {id: 6, label: 'Mult. Closure (R1)', level: 1, color: {background: '#ADD8E6'}},
    {id: 7, label: 'Mult. Associativity (R2)', level: 1, color: {background: '#ADD8E6'}},
    {id: 8, label: 'Distributivity (R3)', level: 1, color: {background: '#ADD8E6'}},
    {id: 9, label: 'Scalar Mult. Closure (A6)', level: 1, color: {background: '#ADD8E6'}},
    {id: 10, label: 'Scalar Mult. Assoc. (A7)', level: 1, color: {background: '#ADD8E6'}},
    {id: 11, label: 'Scalar Mult. Identity (A8)', level: 1, color: {background: '#ADD8E6'}},
    {id: 12, label: 'Dist. (S over V) (A9)', level: 1, color: {background: '#ADD8E6'}},
    {id: 13, label: 'Dist. (V over S) (A10)', level: 1, color: {background: '#ADD8E6'}},
    {id: 14, label: 'Mult. Commutativity (Field)', level: 1, color: {background: '#ADD8E6'}},
    {id: 15, label: 'Mult. Inverse (Field)', level: 1, color: {background: '#ADD8E6'}}, 
    {id: 16, label: 'M1: Non-negativity (Metric)', level: 1, color: {background: '#ffefd5'}},
    {id: 17, label: 'M2: Identity (d(x,y)=0 â‡” x=y)', level: 1, color: {background: '#ffefd5'}},
    {id: 18, label: 'M3: Symmetry', level: 1, color: {background: '#ffefd5'}},
    {id: 19, label: 'M4: Triangle Inequality (Metric)', level: 1, color: {background: '#ffefd5'}},
    {id: 20, label: 'N1a: Non-negativity (Norm)', level: 1, color: {background: '#FFFACD'}},
    {id: 200, label: 'N1b: Identity (Zero Vector Only Has Zero Norm)', level: 1, color: {background: '#FFFACD'}}, 
    {id: 21, label: 'N2: Absolute Homogeneity', level: 1, color: {background: '#FFFACD'}},
    {id: 22, label: 'N3: Triangle Inequality (Norm)', level: 1, color: {background: '#FFFACD'}},
    {id: 23, label: 'IP1: Positive Definite', level: 1, color: {background: '#FFE4B5'}},
    {id: 24, label: 'IP2: Conjugate Symmetry', level: 1, color: {background: '#FFE4B5'}},
    {id: 25, label: 'IP3: Linearity (in 1st argument)', level: 1, color: {background: '#FFE4B5'}},
    {id: 26, label: 'Completeness (Cauchy Seq.)', level: 1, color: {background: '#ffefd5'}},
    {id: 27, label: 'Separability (Dense Countable Subset)', level: 1, color: {background: '#DDA0DD'}},
    {id: 28, label: 'Reflexivity (X = X**)', level: 1, color: {background: '#DDA0DD'}},
    {id: 29, label: 'Parallelogram Law (Extra Norm Condition)', level: 1, color: {background: '#DAA520'}},
    {id: 50, label: 'Topological Structure (Continuous Operations)', level: 1, color: {background: '#8FBC8F'}},
    {id: 51, label: 'Local Convexity (Base of Convex Sets)', level: 1, color: {background: '#8FBC8F'}},


    // LEVEL 2: Simple Structures
    {id: 30, label: 'Group', level: 2, color: {background: '#FFFFCC'}},
    {id: 34, label: 'Metric Space', level: 2, color: {background: '#FFA07A'}}, 

    // LEVEL 3
    {id: 300, label: 'Abelian Group', level: 3, color: {background: '#FFFFCC'}}, 

    // LEVEL 4
    {id: 31, label: 'Ring', level: 4, color: {background: '#ADD8E6'}},

    // LEVEL 5: Co-equal Prerequisites for Vector Space
    {id: 32, label: 'Module (over a Ring)', level: 5, color: {background: '#90EE90'}}, // Adjusted to L5
    {id: 310, label: 'Field', level: 5, color: {background: '#ADD8E6'}}, 

    // LEVEL 6: Vector Space
    {id: 33, label: 'Vector Space (over a Field)', level: 6, color: {background: '#FFC0CB'}},

    // LEVEL 7: Vector Spaces with Topology
    {id: 52, label: 'Topological Vector Space (TVS)', level: 7, color: {background: '#6B8E23'}}, 
    {id: 39, label: 'Seminormed Vector Space (SNVS)', level: 7, color: {background: '#DAA520'}},

    // LEVEL 8: Normed Spaces
    {id: 35, label: 'Normed Vector Space (NVS)', level: 8, color: {background: '#FFA07A'}},
    {id: 53, label: 'Locally Convex TVS (LCTVS)', level: 8, color: {background: '#6B8E23'}}, 

    // LEVEL 9: Spaces with Inner Product/Completeness
    {id: 36, label: 'Inner Product Space (IPS)', level: 9, color: {background: '#F08080'}}, 
    {id: 37, label: 'Banach Space (Complete NVS)', level: 9, color: {background: '#CD5C5C'}}, 

    // LEVEL 10: Specialized Banach
    {id: 40, label: 'Separable Banach Space', level: 10, color: {background: '#778899'}}, 
    {id: 41, label: 'Reflexive Banach Space', level: 10, color: {background: '#778899'}}, 

    // LEVEL 11: Hilbert Space (Most complex core structure)
    {id: 38, label: 'Hilbert Space (Complete IPS)', level: 11, color: {background: '#CD5C5C'}},

    // LEVEL 12: Specialized Hilbert
    {id: 42, label: 'Separable Hilbert Space', level: 12, color: {background: '#778899'}}, 
  ];

  var nodes = new vis.DataSet(nodesArray);

  // --- EDGE DEFINITIONS ---
  var edgesArray = [];

  // A. Edges from "Set" (id 0) to all Axioms
  for (let i = 1; i <= 29; i++) {
    edgesArray.push({from: 0, to: i, arrows: 'to', dashes: true, color: {color: '#888888'}});
  }
  edgesArray.push({from: 0, to: 200, arrows: 'to', dashes: true, color: {color: '#888888'}}); 
  edgesArray.push({from: 0, to: 50, arrows: 'to', dashes: true, color: {color: '#888888'}});
  edgesArray.push({from: 0, to: 51, arrows: 'to', dashes: true, color: {color: '#888888'}});

  // B. Algebraic Structures

  // Group, Abelian Group, Ring, Field (No change)
  [1, 3, 4, 5].forEach(id => edgesArray.push({from: id, to: 30, arrows: 'to', color: {color: nodes.get(30).color.background}}));
  edgesArray.push({from: 30, to: 300, arrows: 'to', color: {color: nodes.get(300).color.background, width: 2}});
  edgesArray.push({from: 2, to: 300, arrows: 'to', color: {color: nodes.get(300).color.background}});
  edgesArray.push({from: 300, to: 31, arrows: 'to', color: {color: nodes.get(31).color.background, width: 1.5, dashes: true, label: 'Required Group Type'}});
  [6, 7, 8].forEach(id => edgesArray.push({from: id, to: 31, arrows: 'to', color: {color: nodes.get(31).color.background}}));
  edgesArray.push({from: 31, to: 310, arrows: 'to', color: {color: nodes.get(310).color.background, width: 2}});
  [14, 15].forEach(id => edgesArray.push({from: id, to: 310, arrows: 'to', color: {color: nodes.get(310).color.background}})); 

  // Module (NEW: Dependency on Ring added)
  edgesArray.push({from: 300, to: 32, arrows: 'to', color: {color: nodes.get(32).color.background}}); 
  // ADDED: Module depends on Ring (31) for its scalar field
  edgesArray.push({from: 31, to: 32, arrows: 'to', color: {color: nodes.get(32).color.background, width: 2, label: 'Over a Ring'}}); 
  [9, 10, 12, 13].forEach(id => edgesArray.push({from: id, to: 32, arrows: 'to', color: {color: nodes.get(32).color.background}}));

  // Vector Space (Uses Module and Field as co-equal inputs)
  edgesArray.push({from: 32, to: 33, arrows: 'to', color: {color: nodes.get(33).color.background, width: 3, label: 'Module Laws'}});
  edgesArray.push({from: 310, to: 33, arrows: 'to', color: {color: nodes.get(33).color.background, width: 3, label: 'Must be Field'}});
  edgesArray.push({from: 11, to: 33, arrows: 'to', color: {color: nodes.get(33).color.background}});

  // C. Topological Spaces (Construction)
  
  // Metric Space (Base)
  [16, 17, 18, 19].forEach(id => edgesArray.push({from: id, to: 34, arrows: 'to', color: {color: nodes.get(34).color.background}}));

  // TVS, LCTVS
  edgesArray.push({from: 33, to: 52, arrows: 'to', color: {color: nodes.get(52).color.background, width: 3}});
  edgesArray.push({from: 50, to: 52, arrows: 'to', color: {color: nodes.get(52).color.background}});
  edgesArray.push({from: 52, to: 53, arrows: 'to', color: {color: nodes.get(53).color.background, width: 3}});
  edgesArray.push({from: 51, to: 53, arrows: 'to', color: {color: nodes.get(53).color.background}});

  // Seminormed Vector Space (SNVS)
  edgesArray.push({from: 33, to: 39, arrows: 'to', color: {color: nodes.get(39).color.background}});
  [20, 21, 22].forEach(id => edgesArray.push({from: id, to: 39, arrows: 'to', color: {color: nodes.get(39).color.background}}));
  
  // D. Core Functional Analysis Spaces (Dependencies)

  // Normed Vector Space (NVS)
  edgesArray.push({from: 39, to: 35, arrows: 'to', color: {color: nodes.get(35).color.background, width: 3}});
  edgesArray.push({from: 200, to: 35, arrows: 'to', color: {color: nodes.get(35).color.background}});
  edgesArray.push({from: 34, to: 35, arrows: 'to', dashes: true, color: {color: '#FFA07A', label: 'Topology Prerequisite'}});


  // Inner Product Space (IPS)
  edgesArray.push({from: 33, to: 36, arrows: 'to', color: {color: nodes.get(36).color.background, width: 1.5, dashes: true, label: 'Base Vector Space'}});
  [23, 24, 25].forEach(id => edgesArray.push({from: id, to: 36, arrows: 'to', color: {color: nodes.get(36).color.background}}));
  edgesArray.push({from: 35, to: 36, arrows: 'to', dashes: true, color: {color: '#F08080', label: 'Parent NVS'}});
  edgesArray.push({from: 29, to: 36, arrows: 'to', color: {color: nodes.get(36).color.background, width: 2, label: 'Iff Parallelogram Law'}});

  // E. Complete Spaces and Specialized Properties

  // Banach Space
  edgesArray.push({from: 35, to: 37, arrows: 'to', color: {color: nodes.get(37).color.background, width: 3}});
  edgesArray.push({from: 26, to: 37, arrows: 'to', color: {color: nodes.get(37).color.background}});

  // Hilbert Space
  edgesArray.push({from: 36, to: 38, arrows: 'to', color: {color: nodes.get(38).color.background, width: 3}});
  edgesArray.push({from: 26, to: 38, arrows: 'to', color: {color: nodes.get(38).color.background}});
  edgesArray.push({from: 37, to: 38, arrows: 'to', dashes: true, color: {color: '#FF0000', label: 'Parent Banach'}});

  // F. Specialized Spaces

  // Separable Banach Space
  edgesArray.push({from: 37, to: 40, arrows: 'to', color: {color: nodes.get(40).color.background, width: 3}});
  edgesArray.push({from: 27, to: 40, arrows: 'to', color: {color: nodes.get(40).color.background}});

  // Reflexive Banach Space
  edgesArray.push({from: 37, to: 41, arrows: 'to', color: {color: nodes.get(41).color.background, width: 3}});
  edgesArray.push({from: 28, to: 41, arrows: 'to', color: {color: nodes.get(41).color.background}});

  // Hilbert is Reflexive (Theorem)
  edgesArray.push({from: 41, to: 38, arrows: 'to', dashes: true, color: {color: '#8B0000', width: 2, label: 'Implicitly Reflexive'}});
  
  // Separable Hilbert Space
  edgesArray.push({from: 38, to: 42, arrows: 'to', color: {color: nodes.get(42).color.background, width: 3}});
  edgesArray.push({from: 27, to: 42, arrows: 'to', color: {color: nodes.get(42).color.background}});
  
  // SNVS -> LCTVS
  edgesArray.push({from: 39, to: 53, arrows: 'to', dashes: true, color: {color: '#DAA520', label: 'Implied: Is LCTVS'}});


  var edges = new vis.DataSet(edgesArray);

  // 4. Get the container element
  var container = document.getElementById('mynetwork');

  // 5. Combine the data
  var data = {
    nodes: nodes,
    edges: edges
  };

  // 6. Define options
  var options = {
    layout: {
      hierarchical: {
        enabled: true,
        direction: 'DU', // Draw from Down to Up
        sortMethod: 'directed',
        nodeSpacing: 180,
        levelSeparation: 150
      }
    },
    edges: {
      smooth: {
        enabled: true,
        type: "continuous"
      }
    },
    physics: {
        enabled: false
    }
  };

  // 7. Initialize the Network
  var network = new vis.Network(container, data, options);
</script>

</body>
</html>